(this["webpackJsonpimage-grid"]=this["webpackJsonpimage-grid"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(5),o=n.n(a),r=(n(72),n(53)),c=n(54),l=n(64),s=n(62),u=(n(73),n(74),n(2)),d=function(){return Object(u.jsx)("header",{className:"Header",children:Object(u.jsx)("h1",{children:"Image Grid"})})},p=n(63),j=n(4),b=n(39),m=n.n(b),g=n(126),f="[MODAL APP] SET SHOW MODAL",O="[IMAGE APP] SET SELECTED IMAGE",h="[MODAL APP] SET SHOW MODAL DETAIL",x=function(e){return{type:f,payload:e}},v=function(e){return{type:O,payload:e}},w=function(e){return{type:h,payload:e}},y=Object(g.a)({imageContainer:{position:"relative",borderRadius:"10px","&:hover":{cursor:"zoom-in"}},image:{position:"relative",width:"100%",borderRadius:"3px",zIndex:-1}}),k=function(e){var t=e.imgURL,n=e.index,i=Object(j.b)(),a=y();return Object(u.jsx)("div",{className:a.imageContainer,onClick:function(){i(v(n)),i(x(!0))},children:Object(u.jsx)("img",{className:a.image,src:t,alt:""})})},N=n(132),C=n(129),I=n(106),E=n(59),A=n.n(E),D=n(58),S=n.n(D),L=n(131),P=n(57),R=n(56);L.a.addLocale(P);var T=Object(g.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},imageInfo:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",background:"linear-gradient(0deg, rgba(255,255,255,0.9471989479385504) 0%, rgba(247,247,247,0.9556023092830882) 48%);",outline:"none",borderRadius:"10px",maxWidth:function(e){return e?"500px":"90%"},fontFamily:"Roboto",overflow:"hidden",boxShadow:"5px 5px 5px #555555"},imageDescription:{display:"table",textAlign:"center",fontFamily:"Patua one",fontSize:function(e){return e?"30px":"18px"},background:"#222222",color:"white",width:"100%",padding:"10px 20px"},dataItemsContainer:{display:"flex",justifyContent:"center",alignItems:"start",flexWrap:"wrap",background:"green",color:"white",paddingBottom:function(e){return e?"20px":"10px"}},dataItem:{display:"flex",flexDirection:"column",flexBasis:"33.33%",justifyItems:"center",alignItems:"center",width:"100px",color:"white",marginBottom:function(e){return e?"15px":"10px"}},dataItemTitle:{color:"white",fontSize:function(e){return e?"20px":"14px"},lineHeight:"1.2"},dataItemValue:{fontSize:function(e){return e?"16px":"12px"},textAlign:"center",lineHeight:"1.2"},creatorHandle:{display:"flex",flexDirection:"row",border:"none",alignItems:"center",justifyContent:"center",paddingBottom:function(e){return e?"20px":"10px"},paddingTop:function(e){return e?"20px":"10px"},background:"green",width:"100%"},profileImage:{borderRadius:"50%",marginRight:"10px"},unsplashLink:{textDecoration:"none",color:"purple"},link:{color:"white",textDecoration:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{textDecoration:"none"}}});function _(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"Untitled"}var M=function(e){var t=e.title,n=e.value,i=e.isDesktop,a=T(i);return Object(u.jsxs)("div",{className:a.dataItem,children:[Object(u.jsx)("div",{className:a.dataItemTitle,children:t}),Object(u.jsx)("div",{className:a.dataItemValue,children:n})]})},U=function(e){var t=e.profileURL,n=e.imgURL,i=e.userName,a=e.isDesktop,o=T(a);return Object(u.jsx)("div",{className:o.creatorHandle,children:Object(u.jsxs)("a",{className:o.link,href:t,children:[Object(u.jsx)("img",{className:o.profileImage,src:n,width:"30px",alt:""}),Object(u.jsx)("div",{children:i})]})})},B=function(){var e,t,n,i=Object(R.useMediaQuery)({query:"(min-device-width: 1224px)"}),a=T(i),o=new L.a("en-US"),r=Object(j.b)(),c=Object(j.c)((function(e){return e.modal.isOpenDetail})),l=Object(j.c)((function(e){return e.image.image})),s=Object(j.c)((function(e){return e.modal.curSelNum}));return l.length?Object(u.jsx)(N.a,{className:a.modal,open:c,onClose:function(){r(w(!1))},closeAfterTransition:!0,BackdropComponent:C.a,BackdropProps:{timeout:500,style:{backgroundColor:"white",opacity:.4}},children:Object(u.jsx)(I.a,{in:c,children:Object(u.jsxs)("div",{className:a.imageInfo,children:[Object(u.jsx)("div",{className:a.imageDescription,children:l[s].description?_(l[s].description):_(l[s].alt_description)}),Object(u.jsx)(U,{profileURL:l[s].user.links.html,imgURL:l[s].user.profile_image.medium,userName:l[s].user.username,isDesktop:i}),Object(u.jsxs)("div",{className:a.dataItemsContainer,children:[Object(u.jsx)(M,{title:"Created",value:o.format(new Date(l[s].created_at))}),Object(u.jsx)(M,{title:"Full name",value:(null!==(e=l[s].user.first_name)&&void 0!==e?e:"")+" "+(null!==(t=l[s].user.last_name)&&void 0!==t?t:"")}),Object(u.jsx)(M,{title:"User location",value:null!==(n=l[s].user.location)&&void 0!==n?n:"?"}),Object(u.jsx)(M,{title:"Liked",value:l[s].likes+" times"}),Object(u.jsx)(M,{title:"Width",value:l[s].width+"px"}),Object(u.jsx)(M,{title:"Height",value:l[s].height+"px"})]})]})})}):null},G=Object(g.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},imageContainer:{position:"relative",overflow:"visible",display:"flex",justifyContent:"center",outline:"none",backgroundColor:"white",width:"80%",height:"95%",borderRadius:"2px",alignItems:"center"},image:{maxWidth:"95%",maxHeight:"100%",objectFit:"contain"},infoButton:{position:"absolute",backgroundColor:"black",border:"none",width:"80px",height:"25px",outline:"none",bottom:"10px",right:"15px",fontFamily:"Roboto",cursor:"pointer",color:"white","&:hover":{backgroundColor:"green"}},infoIcon:{},arrow:{position:"absolute",backgroundColor:"transparent",border:"none",outline:"none",fontSize:"35px",transition:"0.2s",color:"darkgrey","&:hover":{color:"white"}},forwardArrow:{right:"-50px"},backwardArrow:{left:"-50px"}}),H=function(){var e=G(),t=Object(j.b)(),n=Object(j.c)((function(e){return e.image.image})),i=Object(j.c)((function(e){return e.modal.isOpen})),a=Object(j.c)((function(e){return e.modal.curSelNum}));return Object(u.jsxs)("div",{children:[Object(u.jsx)(N.a,{className:e.modal,open:i,onClose:function(){t(x(!1))},closeAfterTransition:!0,BackdropComponent:C.a,BackdropProps:{timeout:500,style:{backgroundColor:"black",opacity:.8}},children:Object(u.jsx)(I.a,{in:i,children:Object(u.jsxs)("div",{className:e.imageContainer,children:[0!==a&&Object(u.jsx)("button",{className:[e.backwardArrow,e.arrow].join(" "),onClick:function(){t(v(a-1))},children:Object(u.jsx)(S.a,{fontSize:"large"})}),n.length&&Object(u.jsx)("img",{className:e.image,src:n[a].urls.regular,alt:""}),a!==n.length-1&&Object(u.jsx)("button",{className:[e.forwardArrow,e.arrow].join(" "),onClick:function(){t(v(a+1))},children:Object(u.jsx)(A.a,{fontSize:"large"})}),Object(u.jsx)("button",{className:e.infoButton,onClick:function(){t(w(!0))},children:"Details"})]})})}),Object(u.jsx)(B,{})]})},z=n(130),W=n(60),F=n.n(W),V="[IMAGE APP] GET IMAGE",X="[IMAGE APP] SET PAGE NUMBER",Y="[IMAGE APP] SET IS LOADING",J="[IMAGE APP] SET LOADED COUNT",Q=Object(g.a)({gridContainer:{width:"100%",height:"80vh",overflowY:"auto",overflowX:"hidden",position:"relative"},spinner:{margin:"auto",color:"white !!!important"},mask:{position:"fixed",left:"0",top:"20vh",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}});var q=function(e){var t=Object(j.b)(),n=Object(j.c)((function(e){return e.image.image})),a=Object(j.c)((function(e){return e.image.pageNum})),o=Object(j.c)((function(e){return e.image.isLoading})),r=Object(j.c)((function(e){return e.image.loadedCount})),c=Q(),l=Object(i.useRef)(null),s=Object(i.useState)(!1),d=Object(p.a)(s,2),g=d[0],f=d[1];return Object(i.useEffect)((function(){t(function(e){return function(t){F.a.get("https://api.unsplash.com/photos/?page=".concat(e,"&per_page=15&client_id=").concat("dE30n6DCz7vQP0wYMPEM9YMlUb_ORGIUAI54hgmV2uo")).then((function(e){t({type:V,payload:e.data}),t({type:Y,payload:!1})})).catch((function(e){console.log(e.response)}))}}(a))}),[a]),Object(i.useEffect)((function(){r<n.length?f(!0):f(!1)}),[n,r]),Object(u.jsxs)("div",{className:c.gridContainer,onScroll:function(){var e=l.current.clientHeight;l.current.scrollTop>l.current.scrollHeight-e-50&&!o&&!g&&t({type:X,payload:{pageNum:a+1,isLoading:!0}})},ref:l,onLoad:function(){t({type:J,payload:r+1})},children:[Object(u.jsx)(b.ResponsiveMasonry,{columnsCountBreakPoints:{400:1,800:2,1200:3},children:Object(u.jsx)(m.a,{gutter:"1vw",children:n.map((function(e,t){return Object(u.jsx)(k,{index:t,imgURL:e.urls.regular},t)}))})}),Object(u.jsx)(H,{}),g&&Object(u.jsx)("div",{className:c.mask,children:Object(u.jsx)(z.a,{className:c.spinner,style:{color:"white"}})})]})},$=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(d,{}),Object(u.jsx)("main",{children:Object(u.jsx)(q,{})})]})}}]),n}(i.Component),K=n(14),Z=n(40),ee=n(6),te={image:[],pageNum:0,isLoading:!1,loadedCount:0},ne={curSelNum:0,isOpen:!1,isOpenDetail:!1},ie=Object(K.c)({image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case V:return Object(ee.a)(Object(ee.a)({},e),{},{image:[].concat(Object(Z.a)(e.image),Object(Z.a)(t.payload))});case X:return Object(ee.a)(Object(ee.a)({},e),{},{pageNum:t.payload.pageNum,isLoading:t.payload.isLoading});case Y:return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:t.payload});case J:return Object(ee.a)(Object(ee.a)({},e),{},{loadedCount:t.payload});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case f:return Object(ee.a)(Object(ee.a)({},e),{},{isOpen:t.payload});case O:return Object(ee.a)(Object(ee.a)({},e),{},{curSelNum:t.payload});case h:return Object(ee.a)(Object(ee.a)({},e),{},{isOpenDetail:t.payload});default:return e}}}),ae=n(61),oe=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},re=Object(K.d)(Object(K.a)(ae.a),oe),ce=Object(K.e)(ie,re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(u.jsx)(j.a,{store:ce,children:Object(u.jsx)($,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.8fff871b.chunk.js.map